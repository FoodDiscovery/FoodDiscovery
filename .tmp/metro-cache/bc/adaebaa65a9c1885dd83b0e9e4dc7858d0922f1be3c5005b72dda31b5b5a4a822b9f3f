{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":19,"index":131},"end":{"line":7,"column":42,"index":154}}],"key":"lGv6jwyWtmgghjjYvCX5yhM2Jt0=","exportNames":["*"],"imports":1}},{"name":"@react-native/assets-registry/registry","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":16,"index":172},"end":{"line":8,"column":65,"index":221}}],"key":"6/FNy5SyFHqM25fO9mKKuMVTi4I=","exportNames":["*"],"imports":1}},{"name":"./dynamic-loading-setting.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":29,"index":252},"end":{"line":9,"column":68,"index":291}}],"key":"bH+bQojgjfGGyGZz6Df9L0haA00=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _asyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.dynamicLoader = void 0;\n  var _reactNative = require(_dependencyMap[1], \"react-native\");\n  var _registry = require(_dependencyMap[2], \"@react-native/assets-registry/registry\");\n  var _dynamicLoadingSetting = require(_dependencyMap[3], \"./dynamic-loading-setting.js\");\n  /*\n   * The following imports are always present when react native is installed\n   * in the future, more explicit apis will be exposed by the core, including typings\n   * */\n\n  // @ts-expect-error missing types\n  // eslint-disable-next-line import/no-extraneous-dependencies,import/no-unresolved\n\n  var loadPromises = {};\n  var loadFontAsync = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator(function* (fontFamily, fontSource) {\n      var globalRef = globalThis;\n      (0, _dynamicLoadingSetting.assertExpoModulesPresent)(globalRef);\n      var expoModules = globalRef.expo.modules;\n      if (loadPromises[fontFamily]) {\n        return loadPromises[fontFamily];\n      }\n      loadPromises[fontFamily] = function () {\n        var _LoadFont = _asyncToGenerator(function* () {\n          try {\n            var localUri = yield (() => {\n              if (typeof fontSource === 'string') {\n                // a local filesystem uri\n                return fontSource;\n              }\n              // a module id\n              var _getLocalFontUrl = getLocalFontUrl(fontSource, fontFamily),\n                uri = _getLocalFontUrl.uri,\n                type = _getLocalFontUrl.type,\n                hash = _getLocalFontUrl.hash;\n              return expoModules.ExpoAsset.downloadAsync(uri, hash, type);\n            })();\n            var asset = _reactNative.Platform.select({\n              web: {\n                uri: localUri,\n                display: 'auto'\n              },\n              default: localUri\n            });\n            yield expoModules.ExpoFontLoader.loadAsync(fontFamily, asset);\n          } catch (error) {\n            console.error(`Failed to load font ${fontFamily}`, error); // eslint-disable-line no-console\n\n            (0, _dynamicLoadingSetting.getErrorCallback)()?.({\n              error: error,\n              fontFamily,\n              fontSource\n            });\n          } finally {\n            delete loadPromises[fontFamily];\n          }\n        });\n        function LoadFont() {\n          return _LoadFont.apply(this, arguments);\n        }\n        return LoadFont;\n      }()();\n      return loadPromises[fontFamily];\n    });\n    return function loadFontAsync(_x, _x2) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var getLocalFontUrl = (fontModuleId, fontFamily) => {\n    var assetMeta = (0, _registry.getAssetByID)(fontModuleId);\n    if (!assetMeta) {\n      throw new Error(`no asset found for font family \"${fontFamily}\", moduleId: ${String(fontModuleId)}`);\n    }\n    var assetSource = _reactNative.Image.resolveAssetSource(fontModuleId);\n    return {\n      ...assetMeta,\n      ...assetSource\n    };\n  };\n  var loadedFontsCache = {};\n  var isLoadedNative = fontFamily => {\n    if (fontFamily in loadedFontsCache) {\n      return true;\n    }\n    var globalRef = globalThis;\n    (0, _dynamicLoadingSetting.assertExpoModulesPresent)(globalRef);\n    var loadedNativeFonts = globalRef.expo.modules.ExpoFontLoader.getLoadedFonts();\n    loadedNativeFonts.forEach(font => {\n      loadedFontsCache[font] = true;\n    });\n    return fontFamily in loadedFontsCache;\n  };\n  var dynamicLoader = exports.dynamicLoader = {\n    isLoaded: isLoadedNative,\n    loadFontAsync\n  };\n});","lineCount":103,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_asyncToGenerator"],[4,23,1,13],[4,26,1,13,"require"],[4,33,1,13],[4,34,1,13,"_dependencyMap"],[4,48,1,13],[4,96,1,13,"default"],[4,103,1,13],[5,2,3,0,"Object"],[5,8,3,6],[5,9,3,7,"defineProperty"],[5,23,3,21],[5,24,3,22,"exports"],[5,31,3,29],[5,33,3,31],[5,45,3,43],[5,47,3,45],[6,4,4,2,"value"],[6,9,4,7],[6,11,4,9],[7,2,5,0],[7,3,5,1],[7,4,5,2],[8,2,6,0,"exports"],[8,9,6,7],[8,10,6,8,"dynamicLoader"],[8,23,6,21],[8,26,6,24],[8,31,6,29],[8,32,6,30],[9,2,7,0],[9,6,7,4,"_reactNative"],[9,18,7,16],[9,21,7,19,"require"],[9,28,7,26],[9,29,7,26,"_dependencyMap"],[9,43,7,26],[9,62,7,41],[9,63,7,42],[10,2,8,0],[10,6,8,4,"_registry"],[10,15,8,13],[10,18,8,16,"require"],[10,25,8,23],[10,26,8,23,"_dependencyMap"],[10,40,8,23],[10,85,8,64],[10,86,8,65],[11,2,9,0],[11,6,9,4,"_dynamicLoadingSetting"],[11,28,9,26],[11,31,9,29,"require"],[11,38,9,36],[11,39,9,36,"_dependencyMap"],[11,53,9,36],[11,88,9,67],[11,89,9,68],[12,2,10,0],[13,0,11,0],[14,0,12,0],[15,0,13,0],[17,2,15,0],[18,2,16,0],[20,2,18,0],[20,6,18,6,"loadPromises"],[20,18,18,18],[20,21,18,21],[20,22,18,22],[20,23,18,23],[21,2,19,0],[21,6,19,6,"loadFontAsync"],[21,19,19,19],[22,4,19,19],[22,8,19,19,"_ref"],[22,12,19,19],[22,15,19,19,"_asyncToGenerator"],[22,32,19,19],[22,33,19,22],[22,44,19,29,"fontFamily"],[22,54,19,39],[22,56,19,41,"fontSource"],[22,66,19,51],[22,68,19,56],[23,6,20,2],[23,10,20,8,"globalRef"],[23,19,20,17],[23,22,20,20,"globalThis"],[23,32,20,30],[24,6,21,2],[24,7,21,3],[24,8,21,4],[24,10,21,6,"_dynamicLoadingSetting"],[24,32,21,28],[24,33,21,29,"assertExpoModulesPresent"],[24,57,21,53],[24,59,21,55,"globalRef"],[24,68,21,64],[24,69,21,65],[25,6,22,2],[25,10,22,8,"expoModules"],[25,21,22,19],[25,24,22,22,"globalRef"],[25,33,22,31],[25,34,22,32,"expo"],[25,38,22,36],[25,39,22,37,"modules"],[25,46,22,44],[26,6,23,2],[26,10,23,6,"loadPromises"],[26,22,23,18],[26,23,23,19,"fontFamily"],[26,33,23,29],[26,34,23,30],[26,36,23,32],[27,8,24,4],[27,15,24,11,"loadPromises"],[27,27,24,23],[27,28,24,24,"fontFamily"],[27,38,24,34],[27,39,24,35],[28,6,25,2],[29,6,26,2,"loadPromises"],[29,18,26,14],[29,19,26,15,"fontFamily"],[29,29,26,25],[29,30,26,26],[29,33,26,29],[30,8,26,29],[30,12,26,29,"_LoadFont"],[30,21,26,29],[30,24,26,29,"_asyncToGenerator"],[30,41,26,29],[30,55,26,55],[31,10,27,4],[31,14,27,8],[32,12,28,6],[32,16,28,12,"localUri"],[32,24,28,20],[32,33,28,29],[32,34,28,30],[32,40,28,36],[33,14,29,8],[33,18,29,12],[33,25,29,19,"fontSource"],[33,35,29,29],[33,40,29,34],[33,48,29,42],[33,50,29,44],[34,16,30,10],[35,16,31,10],[35,23,31,17,"fontSource"],[35,33,31,27],[36,14,32,8],[37,14,33,8],[38,14,34,8],[38,18,34,8,"_getLocalFontUrl"],[38,34,34,8],[38,37,38,12,"getLocalFontUrl"],[38,52,38,27],[38,53,38,28,"fontSource"],[38,63,38,38],[38,65,38,40,"fontFamily"],[38,75,38,50],[38,76,38,51],[39,16,35,10,"uri"],[39,19,35,13],[39,22,35,13,"_getLocalFontUrl"],[39,38,35,13],[39,39,35,10,"uri"],[39,42,35,13],[40,16,36,10,"type"],[40,20,36,14],[40,23,36,14,"_getLocalFontUrl"],[40,39,36,14],[40,40,36,10,"type"],[40,44,36,14],[41,16,37,10,"hash"],[41,20,37,14],[41,23,37,14,"_getLocalFontUrl"],[41,39,37,14],[41,40,37,10,"hash"],[41,44,37,14],[42,14,39,8],[42,21,39,15,"expoModules"],[42,32,39,26],[42,33,39,27,"ExpoAsset"],[42,42,39,36],[42,43,39,37,"downloadAsync"],[42,56,39,50],[42,57,39,51,"uri"],[42,60,39,54],[42,62,39,56,"hash"],[42,66,39,60],[42,68,39,62,"type"],[42,72,39,66],[42,73,39,67],[43,12,40,6],[43,13,40,7],[43,15,40,9],[43,16,40,10],[44,12,41,6],[44,16,41,12,"asset"],[44,21,41,17],[44,24,41,20,"_reactNative"],[44,36,41,32],[44,37,41,33,"Platform"],[44,45,41,41],[44,46,41,42,"select"],[44,52,41,48],[44,53,41,49],[45,14,42,8,"web"],[45,17,42,11],[45,19,42,13],[46,16,43,10,"uri"],[46,19,43,13],[46,21,43,15,"localUri"],[46,29,43,23],[47,16,44,10,"display"],[47,23,44,17],[47,25,44,19],[48,14,45,8],[48,15,45,9],[49,14,46,8,"default"],[49,21,46,15],[49,23,46,17,"localUri"],[50,12,47,6],[50,13,47,7],[50,14,47,8],[51,12,48,6],[51,18,48,12,"expoModules"],[51,29,48,23],[51,30,48,24,"ExpoFontLoader"],[51,44,48,38],[51,45,48,39,"loadAsync"],[51,54,48,48],[51,55,48,49,"fontFamily"],[51,65,48,59],[51,67,48,61,"asset"],[51,72,48,66],[51,73,48,67],[52,10,49,4],[52,11,49,5],[52,12,49,6],[52,19,49,13,"error"],[52,24,49,18],[52,26,49,20],[53,12,50,6,"console"],[53,19,50,13],[53,20,50,14,"error"],[53,25,50,19],[53,26,50,20],[53,49,50,43,"fontFamily"],[53,59,50,53],[53,61,50,55],[53,63,50,57,"error"],[53,68,50,62],[53,69,50,63],[53,70,50,64],[53,71,50,65],[55,12,52,6],[55,13,52,7],[55,14,52,8],[55,16,52,10,"_dynamicLoadingSetting"],[55,38,52,32],[55,39,52,33,"getErrorCallback"],[55,55,52,49],[55,57,52,51],[55,58,52,52],[55,61,52,55],[56,14,53,8,"error"],[56,19,53,13],[56,21,53,15,"error"],[56,26,53,20],[57,14,54,8,"fontFamily"],[57,24,54,18],[58,14,55,8,"fontSource"],[59,12,56,6],[59,13,56,7],[59,14,56,8],[60,10,57,4],[60,11,57,5],[60,20,57,14],[61,12,58,6],[61,19,58,13,"loadPromises"],[61,31,58,25],[61,32,58,26,"fontFamily"],[61,42,58,36],[61,43,58,37],[62,10,59,4],[63,8,60,2],[63,9,60,3],[64,8,60,3],[64,17,26,44,"LoadFont"],[64,25,26,52,"LoadFont"],[64,26,26,52],[65,10,26,52],[65,17,26,52,"_LoadFont"],[65,26,26,52],[65,27,26,52,"apply"],[65,32,26,52],[65,39,26,52,"arguments"],[65,48,26,52],[66,8,26,52],[67,8,26,52],[67,15,26,44,"LoadFont"],[67,23,26,52],[68,6,26,52],[68,10,60,4],[68,11,60,5],[69,6,61,2],[69,13,61,9,"loadPromises"],[69,25,61,21],[69,26,61,22,"fontFamily"],[69,36,61,32],[69,37,61,33],[70,4,62,0],[70,5,62,1],[71,4,62,1],[71,20,19,6,"loadFontAsync"],[71,33,19,19,"loadFontAsync"],[71,34,19,19,"_x"],[71,36,19,19],[71,38,19,19,"_x2"],[71,41,19,19],[72,6,19,19],[72,13,19,19,"_ref"],[72,17,19,19],[72,18,19,19,"apply"],[72,23,19,19],[72,30,19,19,"arguments"],[72,39,19,19],[73,4,19,19],[74,2,19,19],[74,5,62,1],[75,2,63,0],[75,6,63,6,"getLocalFontUrl"],[75,21,63,21],[75,24,63,24,"getLocalFontUrl"],[75,25,63,25,"fontModuleId"],[75,37,63,37],[75,39,63,39,"fontFamily"],[75,49,63,49],[75,54,63,54],[76,4,64,2],[76,8,64,8,"assetMeta"],[76,17,64,17],[76,20,64,20],[76,21,64,21],[76,22,64,22],[76,24,64,24,"_registry"],[76,33,64,33],[76,34,64,34,"getAssetByID"],[76,46,64,46],[76,48,64,48,"fontModuleId"],[76,60,64,60],[76,61,64,61],[77,4,65,2],[77,8,65,6],[77,9,65,7,"assetMeta"],[77,18,65,16],[77,20,65,18],[78,6,66,4],[78,12,66,10],[78,16,66,14,"Error"],[78,21,66,19],[78,22,66,20],[78,57,66,55,"fontFamily"],[78,67,66,65],[78,83,66,81,"String"],[78,89,66,87],[78,90,66,88,"fontModuleId"],[78,102,66,100],[78,103,66,101],[78,105,66,103],[78,106,66,104],[79,4,67,2],[80,4,68,2],[80,8,68,8,"assetSource"],[80,19,68,19],[80,22,68,22,"_reactNative"],[80,34,68,34],[80,35,68,35,"Image"],[80,40,68,40],[80,41,68,41,"resolveAssetSource"],[80,59,68,59],[80,60,68,60,"fontModuleId"],[80,72,68,72],[80,73,68,73],[81,4,69,2],[81,11,69,9],[82,6,70,4],[82,9,70,7,"assetMeta"],[82,18,70,16],[83,6,71,4],[83,9,71,7,"assetSource"],[84,4,72,2],[84,5,72,3],[85,2,73,0],[85,3,73,1],[86,2,74,0],[86,6,74,6,"loadedFontsCache"],[86,22,74,22],[86,25,74,25],[86,26,74,26],[86,27,74,27],[87,2,75,0],[87,6,75,6,"isLoadedNative"],[87,20,75,20],[87,23,75,23,"fontFamily"],[87,33,75,33],[87,37,75,37],[88,4,76,2],[88,8,76,6,"fontFamily"],[88,18,76,16],[88,22,76,20,"loadedFontsCache"],[88,38,76,36],[88,40,76,38],[89,6,77,4],[89,13,77,11],[89,17,77,15],[90,4,78,2],[91,4,79,2],[91,8,79,8,"globalRef"],[91,17,79,17],[91,20,79,20,"globalThis"],[91,30,79,30],[92,4,80,2],[92,5,80,3],[92,6,80,4],[92,8,80,6,"_dynamicLoadingSetting"],[92,30,80,28],[92,31,80,29,"assertExpoModulesPresent"],[92,55,80,53],[92,57,80,55,"globalRef"],[92,66,80,64],[92,67,80,65],[93,4,81,2],[93,8,81,8,"loadedNativeFonts"],[93,25,81,25],[93,28,81,28,"globalRef"],[93,37,81,37],[93,38,81,38,"expo"],[93,42,81,42],[93,43,81,43,"modules"],[93,50,81,50],[93,51,81,51,"ExpoFontLoader"],[93,65,81,65],[93,66,81,66,"getLoadedFonts"],[93,80,81,80],[93,81,81,81],[93,82,81,82],[94,4,82,2,"loadedNativeFonts"],[94,21,82,19],[94,22,82,20,"forEach"],[94,29,82,27],[94,30,82,28,"font"],[94,34,82,32],[94,38,82,36],[95,6,83,4,"loadedFontsCache"],[95,22,83,20],[95,23,83,21,"font"],[95,27,83,25],[95,28,83,26],[95,31,83,29],[95,35,83,33],[96,4,84,2],[96,5,84,3],[96,6,84,4],[97,4,85,2],[97,11,85,9,"fontFamily"],[97,21,85,19],[97,25,85,23,"loadedFontsCache"],[97,41,85,39],[98,2,86,0],[98,3,86,1],[99,2,87,0],[99,6,87,6,"dynamicLoader"],[99,19,87,19],[99,22,87,22,"exports"],[99,29,87,29],[99,30,87,30,"dynamicLoader"],[99,43,87,43],[99,46,87,46],[100,4,88,2,"isLoaded"],[100,12,88,10],[100,14,88,12,"isLoadedNative"],[100,28,88,26],[101,4,89,2,"loadFontAsync"],[102,2,90,0],[102,3,90,1],[103,0,90,2],[103,3]],"functionMap":{"names":["<global>","loadFontAsync","LoadFont","<anonymous>","getLocalFontUrl","isLoadedNative","loadedNativeFonts.forEach$argument_0"],"mappings":"AAA;sBCkB;6BCO;8BCE;ODY;GDoB;CDE;wBIC;CJU;uBKE;4BCO;GDE;CLE"},"hasCjsExports":true},"type":"js/module"}]}