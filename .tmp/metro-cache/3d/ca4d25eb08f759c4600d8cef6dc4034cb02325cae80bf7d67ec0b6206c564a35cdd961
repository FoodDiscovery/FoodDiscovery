{"dependencies":[{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":70,"index":70}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":119},"end":{"line":3,"column":42,"index":161}}],"key":"phU7YuntQKgoAYKWKHVlsIL7LCY=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":162},"end":{"line":4,"column":52,"index":214}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":215},"end":{"line":5,"column":54,"index":269}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/Users/ermiasmesafnt/Documents/Food/FoodDiscovery/src/Providers/AuthProvider.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(); // Create a context to share the session with child components\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[0], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[1], \"react\");\n  var _libSupabase = require(_dependencyMap[2], \"../lib/supabase\");\n  var _expoRouter = require(_dependencyMap[3], \"expo-router\");\n  var _reactNative = require(_dependencyMap[4], \"react-native\");\n  var _reactJsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  var AuthContext = /*#__PURE__*/(0, _react.createContext)({\n    session: null\n  });\n\n  // Hook to access the session from any component\n  var useAuth = () => {\n    _s();\n    return (0, _react.useContext)(AuthContext);\n  };\n\n  // destrucutre the children from passed in props and they are of type ...\n  // type script says that its of tyoe 'anything that react can render'\n  _s(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n  function AuthProvider(_ref) {\n    _s2();\n    var children = _ref.children;\n    // session is of type Session or null initially\n    var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      session = _useState2[0],\n      setSession = _useState2[1];\n    var _useState3 = (0, _react.useState)(false),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      initialized = _useState4[0],\n      setInitialized = _useState4[1];\n    // tells you where you are in the file system route\n    var segments = (0, _expoRouter.useSegments)();\n    // navigation control\n    var router = (0, _expoRouter.useRouter)();\n    (0, _react.useEffect)(() => {\n      // supabase checks asyncStorage/secureStorage looking for saved auth token\n      _libSupabase.supabase.auth.getSession().then(_ref2 => {\n        var session = _ref2.data.session;\n        setSession(session);\n        // let us know that supabase token/session restoration from storage) has completed, so the app can now reliably know whether a session exists or not\n        setInitialized(true);\n      });\n\n      // reacts to auth events and sets the updated session\n      _libSupabase.supabase.auth.onAuthStateChange((_event, session) => {\n        setSession(session);\n      });\n    }, []);\n    (0, _react.useEffect)(() => {\n      if (!initialized) {\n        return;\n      }\n      var inAuthGroup = segments[0] === '(auth)';\n\n      // user is signed out and trying to access protected content\n      if (!session && !inAuthGroup) {\n        router.replace('/(auth)/sign-in');\n      } else if (session && inAuthGroup) {\n        // user is logged in but trying to access login screen\n        router.replace('/');\n      }\n    }, [session, segments, initialized]);\n    if (!initialized) {\n      return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNative.View, {\n        style: {\n          flex: 1,\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(_reactNative.ActivityIndicator, {\n          size: \"large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 7\n      }, this);\n    }\n\n    // Provide the session to all child components via context\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        session\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 10\n    }, this);\n  }\n  _s2(AuthProvider, \"YRDq9ZZMP96g8rMvwOHi++TF17Q=\", false, function () {\n    return [_expoRouter.useSegments, _expoRouter.useRouter];\n  });\n  _c = AuthProvider;\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":130,"map":[[6,26,7,0],[7,2,7,0,"Object"],[7,8,7,0],[7,9,7,0,"defineProperty"],[7,23,7,0],[7,24,7,0,"exports"],[7,31,7,0],[8,4,7,0,"value"],[8,9,7,0],[9,2,7,0],[10,2,7,0],[10,11,7,0,"_interopDefault"],[10,27,7,0,"e"],[10,28,7,0],[11,4,7,0],[11,11,7,0,"e"],[11,12,7,0],[11,16,7,0,"e"],[11,17,7,0],[11,18,7,0,"__esModule"],[11,28,7,0],[11,31,7,0,"e"],[11,32,7,0],[12,6,7,0,"default"],[12,13,7,0],[12,15,7,0,"e"],[13,4,7,0],[14,2,7,0],[15,2,15,15,"Object"],[15,8,15,15],[15,9,15,15,"defineProperty"],[15,23,15,15],[15,24,15,15,"exports"],[15,31,15,15],[16,4,15,15,"enumerable"],[16,14,15,15],[17,4,15,15,"get"],[17,7,15,15],[17,18,15,15,"get"],[17,19,15,15],[18,6,15,15],[18,13,15,15,"AuthProvider"],[18,25,15,15],[19,4,15,15],[20,2,15,15],[21,2,11,0,"Object"],[21,8,11,0],[21,9,11,0,"defineProperty"],[21,23,11,0],[21,24,11,0,"exports"],[21,31,11,0],[22,4,11,0,"enumerable"],[22,14,11,0],[23,4,11,0,"get"],[23,7,11,0],[23,18,11,0,"get"],[23,19,11,0],[24,6,11,0],[24,13,11,0,"useAuth"],[24,20,11,0],[25,4,11,0],[26,2,11,0],[27,2,11,52],[27,6,11,52,"_babelRuntimeHelpersSlicedToArray"],[27,39,11,52],[27,42,11,52,"require"],[27,49,11,52],[27,50,11,52,"_dependencyMap"],[27,64,11,52],[28,2,11,52],[28,6,11,52,"_slicedToArray"],[28,20,11,52],[28,23,11,52,"_interopDefault"],[28,38,11,52],[28,39,11,52,"_babelRuntimeHelpersSlicedToArray"],[28,72,11,52],[29,2,1,0],[29,6,1,0,"_react"],[29,12,1,0],[29,15,1,0,"require"],[29,22,1,0],[29,23,1,0,"_dependencyMap"],[29,37,1,0],[30,2,3,0],[30,6,3,0,"_libSupabase"],[30,18,3,0],[30,21,3,0,"require"],[30,28,3,0],[30,29,3,0,"_dependencyMap"],[30,43,3,0],[31,2,4,0],[31,6,4,0,"_expoRouter"],[31,17,4,0],[31,20,4,0,"require"],[31,27,4,0],[31,28,4,0,"_dependencyMap"],[31,42,4,0],[32,2,5,0],[32,6,5,0,"_reactNative"],[32,18,5,0],[32,21,5,0,"require"],[32,28,5,0],[32,29,5,0,"_dependencyMap"],[32,43,5,0],[33,2,5,54],[33,6,5,54,"_reactJsxDevRuntime"],[33,25,5,54],[33,28,5,54,"require"],[33,35,5,54],[33,36,5,54,"_dependencyMap"],[33,50,5,54],[34,2,8,0],[34,6,8,6,"AuthContext"],[34,17,8,17],[34,33,8,20],[34,37,8,20,"createContext"],[34,43,8,33],[34,44,8,33,"createContext"],[34,57,8,33],[34,59,8,63],[35,4,8,65,"session"],[35,11,8,72],[35,13,8,74],[36,2,8,79],[36,3,8,80],[36,4,8,81],[38,2,10,0],[39,2,11,7],[39,6,11,13,"useAuth"],[39,13,11,20],[39,16,11,23,"useAuth"],[39,17,11,23],[40,4,11,23,"_s"],[40,6,11,23],[41,4,11,23],[41,11,11,29],[41,15,11,29,"useContext"],[41,21,11,39],[41,22,11,39,"useContext"],[41,32,11,39],[41,34,11,40,"AuthContext"],[41,45,11,51],[41,46,11,52],[42,2,11,52],[44,2,13,0],[45,2,14,0],[46,2,14,0,"_s"],[46,4,14,0],[46,5,11,13,"useAuth"],[46,12,11,20],[47,2,15,15],[47,11,15,24,"AuthProvider"],[47,23,15,36,"AuthProvider"],[47,24,15,36,"_ref"],[47,28,15,36],[47,30,15,82],[48,4,15,82,"_s2"],[48,7,15,82],[49,4,15,82],[49,8,15,39,"children"],[49,16,15,47],[49,19,15,47,"_ref"],[49,23,15,47],[49,24,15,39,"children"],[49,32,15,47],[50,4,16,2],[51,4,17,2],[51,8,17,2,"_useState"],[51,17,17,2],[51,20,17,32],[51,24,17,32,"useState"],[51,30,17,40],[51,31,17,40,"useState"],[51,39,17,40],[51,41,17,57],[51,45,17,61],[51,46,17,62],[52,6,17,62,"_useState2"],[52,16,17,62],[52,23,17,62,"_slicedToArray"],[52,37,17,62],[52,38,17,62,"default"],[52,45,17,62],[52,47,17,62,"_useState"],[52,56,17,62],[53,6,17,9,"session"],[53,13,17,16],[53,16,17,16,"_useState2"],[53,26,17,16],[54,6,17,18,"setSession"],[54,16,17,28],[54,19,17,28,"_useState2"],[54,29,17,28],[55,4,18,2],[55,8,18,2,"_useState3"],[55,18,18,2],[55,21,18,40],[55,25,18,40,"useState"],[55,31,18,48],[55,32,18,48,"useState"],[55,40,18,48],[55,42,18,49],[55,47,18,54],[55,48,18,55],[56,6,18,55,"_useState4"],[56,16,18,55],[56,23,18,55,"_slicedToArray"],[56,37,18,55],[56,38,18,55,"default"],[56,45,18,55],[56,47,18,55,"_useState3"],[56,57,18,55],[57,6,18,9,"initialized"],[57,17,18,20],[57,20,18,20,"_useState4"],[57,30,18,20],[58,6,18,22,"setInitialized"],[58,20,18,36],[58,23,18,36,"_useState4"],[58,33,18,36],[59,4,19,2],[60,4,20,2],[60,8,20,8,"segments"],[60,16,20,16],[60,19,20,19],[60,23,20,19,"useSegments"],[60,34,20,30],[60,35,20,30,"useSegments"],[60,46,20,30],[60,48,20,31],[60,49,20,32],[61,4,21,2],[62,4,22,2],[62,8,22,8,"router"],[62,14,22,14],[62,17,22,17],[62,21,22,17,"useRouter"],[62,32,22,26],[62,33,22,26,"useRouter"],[62,42,22,26],[62,44,22,27],[62,45,22,28],[63,4,24,2],[63,8,24,2,"useEffect"],[63,14,24,11],[63,15,24,11,"useEffect"],[63,24,24,11],[63,26,24,12],[63,32,24,18],[64,6,25,4],[65,6,26,4,"supabase"],[65,18,26,12],[65,19,26,12,"supabase"],[65,27,26,12],[65,28,26,13,"auth"],[65,32,26,17],[65,33,26,18,"getSession"],[65,43,26,28],[65,44,26,29],[65,45,26,30],[65,46,26,31,"then"],[65,50,26,35],[65,51,26,36,"_ref2"],[65,56,26,36],[65,60,26,63],[66,8,26,63],[66,12,26,47,"session"],[66,19,26,54],[66,22,26,54,"_ref2"],[66,27,26,54],[66,28,26,39,"data"],[66,32,26,43],[66,33,26,47,"session"],[66,40,26,54],[67,8,27,6,"setSession"],[67,18,27,16],[67,19,27,17,"session"],[67,26,27,24],[67,27,27,25],[68,8,28,6],[69,8,29,6,"setInitialized"],[69,22,29,20],[69,23,29,21],[69,27,29,25],[69,28,29,26],[70,6,30,4],[70,7,30,5],[70,8,30,6],[72,6,32,4],[73,6,33,4,"supabase"],[73,18,33,12],[73,19,33,12,"supabase"],[73,27,33,12],[73,28,33,13,"auth"],[73,32,33,17],[73,33,33,18,"onAuthStateChange"],[73,50,33,35],[73,51,33,36],[73,52,33,37,"_event"],[73,58,33,43],[73,60,33,45,"session"],[73,67,33,52],[73,72,33,57],[74,8,34,6,"setSession"],[74,18,34,16],[74,19,34,17,"session"],[74,26,34,24],[74,27,34,25],[75,6,35,4],[75,7,35,5],[75,8,35,6],[76,4,36,2],[76,5,36,3],[76,7,36,5],[76,9,36,7],[76,10,36,8],[77,4,38,2],[77,8,38,2,"useEffect"],[77,14,38,11],[77,15,38,11,"useEffect"],[77,24,38,11],[77,26,38,12],[77,32,38,18],[78,6,39,4],[78,10,39,8],[78,11,39,9,"initialized"],[78,22,39,20],[78,24,39,22],[79,8,40,6],[80,6,41,4],[81,6,43,4],[81,10,43,10,"inAuthGroup"],[81,21,43,21],[81,24,43,24,"segments"],[81,32,43,32],[81,33,43,33],[81,34,43,34],[81,35,43,35],[81,40,43,40],[81,48,43,48],[83,6,45,4],[84,6,46,4],[84,10,46,8],[84,11,46,9,"session"],[84,18,46,16],[84,22,46,20],[84,23,46,21,"inAuthGroup"],[84,34,46,32],[84,36,46,34],[85,8,47,6,"router"],[85,14,47,12],[85,15,47,13,"replace"],[85,22,47,20],[85,23,47,21],[85,40,47,38],[85,41,47,39],[86,6,48,4],[86,7,48,5],[86,13,48,11],[86,17,48,15,"session"],[86,24,48,22],[86,28,48,26,"inAuthGroup"],[86,39,48,37],[86,41,48,39],[87,8,48,42],[88,8,49,6,"router"],[88,14,49,12],[88,15,49,13,"replace"],[88,22,49,20],[88,23,49,21],[88,26,49,24],[88,27,49,25],[89,6,50,4],[90,4,51,2],[90,5,51,3],[90,7,51,5],[90,8,51,6,"session"],[90,15,51,13],[90,17,51,15,"segments"],[90,25,51,23],[90,27,51,25,"initialized"],[90,38,51,36],[90,39,51,37],[90,40,51,38],[91,4,53,2],[91,8,53,6],[91,9,53,7,"initialized"],[91,20,53,18],[91,22,53,20],[92,6,54,4],[92,26,55,6],[92,30,55,6,"_reactJsxDevRuntime"],[92,49,55,6],[92,50,55,6,"jsxDEV"],[92,56,55,6],[92,58,55,7,"_reactNative"],[92,70,55,11],[92,71,55,11,"View"],[92,75,55,11],[93,8,55,12,"style"],[93,13,55,17],[93,15,55,19],[94,10,55,21,"flex"],[94,14,55,25],[94,16,55,27],[94,17,55,28],[95,10,55,30,"justifyContent"],[95,24,55,44],[95,26,55,46],[95,34,55,54],[96,10,55,56,"alignItems"],[96,20,55,66],[96,22,55,68],[97,8,55,77],[97,9,55,79],[98,8,55,79,"children"],[98,16,55,79],[98,31,56,8],[98,35,56,8,"_reactJsxDevRuntime"],[98,54,56,8],[98,55,56,8,"jsxDEV"],[98,61,56,8],[98,63,56,9,"_reactNative"],[98,75,56,26],[98,76,56,26,"ActivityIndicator"],[98,93,56,26],[99,10,56,27,"size"],[99,14,56,31],[99,16,56,32],[100,8,56,39],[101,10,56,39,"fileName"],[101,18,56,39],[101,20,56,39,"_jsxFileName"],[101,32,56,39],[102,10,56,39,"lineNumber"],[102,20,56,39],[103,10,56,39,"columnNumber"],[103,22,56,39],[104,8,56,39],[104,15,56,41],[105,6,56,42],[106,8,56,42,"fileName"],[106,16,56,42],[106,18,56,42,"_jsxFileName"],[106,30,56,42],[107,8,56,42,"lineNumber"],[107,18,56,42],[108,8,56,42,"columnNumber"],[108,20,56,42],[109,6,56,42],[109,13,57,12],[109,14,57,13],[110,4,59,2],[112,4,61,2],[113,4,62,2],[113,24,62,9],[113,28,62,9,"_reactJsxDevRuntime"],[113,47,62,9],[113,48,62,9,"jsxDEV"],[113,54,62,9],[113,56,62,10,"AuthContext"],[113,67,62,21],[113,68,62,22,"Provider"],[113,76,62,30],[114,6,62,31,"value"],[114,11,62,36],[114,13,62,38],[115,8,62,40,"session"],[116,6,62,48],[116,7,62,50],[117,6,62,50,"children"],[117,14,62,50],[117,16,62,52,"children"],[118,4,62,60],[119,6,62,60,"fileName"],[119,14,62,60],[119,16,62,60,"_jsxFileName"],[119,28,62,60],[120,6,62,60,"lineNumber"],[120,16,62,60],[121,6,62,60,"columnNumber"],[121,18,62,60],[122,4,62,60],[122,11,62,83],[122,12,62,84],[123,2,63,0],[124,2,63,1,"_s2"],[124,5,63,1],[124,6,15,24,"AuthProvider"],[124,18,15,36],[125,4,15,36],[125,12,20,19,"useSegments"],[125,23,20,30],[125,24,20,30,"useSegments"],[125,35,20,30],[125,37,22,17,"useRouter"],[125,48,22,26],[125,49,22,26,"useRouter"],[125,58,22,26],[126,2,22,26],[127,2,22,26,"_c"],[127,4,22,26],[127,7,15,24,"AuthProvider"],[127,19,15,36],[128,2,15,36],[128,6,15,36,"_c"],[128,8,15,36],[129,2,15,36,"$RefreshReg$"],[129,14,15,36],[129,15,15,36,"_c"],[129,17,15,36],[130,0,15,36],[130,3]],"functionMap":{"names":["<global>","useAuth","AuthProvider","useEffect$argument_0","supabase.auth.getSession.then$argument_0","supabase.auth.onAuthStateChange$argument_0"],"mappings":"AAA;uBCU,6BD;eEI;YCS;oCCE;KDI;oCEG;KFE;GDC;YCE;GDa;CFY"},"hasCjsExports":false},"type":"js/module"}]}