{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":19,"index":161},"end":{"line":7,"column":42,"index":184}}],"key":"lGv6jwyWtmgghjjYvCX5yhM2Jt0=","exportNames":["*"],"imports":1}},{"name":"./defaults.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":16,"index":202},"end":{"line":8,"column":40,"index":226}}],"key":"8zlNL/bdiu3zO8WGWvKdyGqOG5I=","exportNames":["*"],"imports":1}},{"name":"./get-image-library.js","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":23,"index":251},"end":{"line":9,"column":56,"index":284}}],"key":"89aLVy2xVOAvJQQGzdhM/2G0mW8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _asyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getImageSourceSync = exports.getImageSource = void 0;\n  var _reactNative = require(_dependencyMap[1], \"react-native\");\n  var _defaults = require(_dependencyMap[2], \"./defaults.js\");\n  var _getImageLibrary = require(_dependencyMap[3], \"./get-image-library.js\");\n  var getImageSourceSync = function (imageSourceCache, fontReference, glyph) {\n    var size = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : _defaults.DEFAULT_ICON_SIZE;\n    var color = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _defaults.DEFAULT_ICON_COLOR;\n    var NativeIconAPI = (0, _getImageLibrary.ensureGetImageAvailable)();\n    var processedColor = (0, _reactNative.processColor)(color);\n    var cacheKey = `${glyph}:${size}:${String(processedColor)}`;\n    var maybeCachedValue = imageSourceCache.get(cacheKey);\n    if (maybeCachedValue !== undefined) {\n      // FIXME: Should this check if it's an error and throw it again?\n      return maybeCachedValue;\n    }\n    try {\n      var imagePath = NativeIconAPI.getImageForFontSync(fontReference, glyph, size, processedColor // FIXME what if a non existent colour was passed in?\n      );\n      var value = {\n        uri: imagePath,\n        scale: _reactNative.PixelRatio.get()\n      };\n      imageSourceCache.setValue(cacheKey, value);\n      return value;\n    } catch (error) {\n      imageSourceCache.setError(cacheKey, error);\n      throw error;\n    }\n  };\n  exports.getImageSourceSync = getImageSourceSync;\n  var getImageSource = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator(function* (imageSourceCache, fontReference, glyph) {\n      var size = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : _defaults.DEFAULT_ICON_SIZE;\n      var color = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _defaults.DEFAULT_ICON_COLOR;\n      var NativeIconAPI = (0, _getImageLibrary.ensureGetImageAvailable)();\n      var processedColor = (0, _reactNative.processColor)(color);\n      var cacheKey = `${glyph}:${size}:${String(processedColor)}`;\n      var maybeCachedValue = imageSourceCache.get(cacheKey);\n      if (maybeCachedValue !== undefined) {\n        // FIXME: Should this check if it's an error and throw it again?\n        return maybeCachedValue;\n      }\n      try {\n        var imagePath = yield NativeIconAPI.getImageForFont(fontReference, glyph, size, processedColor // FIXME what if a non existent colour was passed in?\n        );\n        var value = {\n          uri: imagePath,\n          scale: _reactNative.PixelRatio.get()\n        };\n        imageSourceCache.setValue(cacheKey, value);\n        return value;\n      } catch (error) {\n        imageSourceCache.setError(cacheKey, error);\n        throw error;\n      }\n    });\n    return function getImageSource(_x, _x2, _x3) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  exports.getImageSource = getImageSource;\n});","lineCount":69,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_asyncToGenerator"],[4,23,1,13],[4,26,1,13,"require"],[4,33,1,13],[4,34,1,13,"_dependencyMap"],[4,48,1,13],[4,96,1,13,"default"],[4,103,1,13],[5,2,3,0,"Object"],[5,8,3,6],[5,9,3,7,"defineProperty"],[5,23,3,21],[5,24,3,22,"exports"],[5,31,3,29],[5,33,3,31],[5,45,3,43],[5,47,3,45],[6,4,4,2,"value"],[6,9,4,7],[6,11,4,9],[7,2,5,0],[7,3,5,1],[7,4,5,2],[8,2,6,0,"exports"],[8,9,6,7],[8,10,6,8,"getImageSourceSync"],[8,28,6,26],[8,31,6,29,"exports"],[8,38,6,36],[8,39,6,37,"getImageSource"],[8,53,6,51],[8,56,6,54],[8,61,6,59],[8,62,6,60],[9,2,7,0],[9,6,7,4,"_reactNative"],[9,18,7,16],[9,21,7,19,"require"],[9,28,7,26],[9,29,7,26,"_dependencyMap"],[9,43,7,26],[9,62,7,41],[9,63,7,42],[10,2,8,0],[10,6,8,4,"_defaults"],[10,15,8,13],[10,18,8,16,"require"],[10,25,8,23],[10,26,8,23,"_dependencyMap"],[10,40,8,23],[10,60,8,39],[10,61,8,40],[11,2,9,0],[11,6,9,4,"_getImageLibrary"],[11,22,9,20],[11,25,9,23,"require"],[11,32,9,30],[11,33,9,30,"_dependencyMap"],[11,47,9,30],[11,76,9,55],[11,77,9,56],[12,2,10,0],[12,6,10,6,"getImageSourceSync"],[12,24,10,24],[12,27,10,27],[12,36,10,27,"getImageSourceSync"],[12,37,10,28,"imageSourceCache"],[12,53,10,44],[12,55,10,46,"fontReference"],[12,68,10,59],[12,70,10,61,"glyph"],[12,75,10,66],[12,77,10,145],[13,4,10,145],[13,8,10,68,"size"],[13,12,10,72],[13,15,10,72,"arguments"],[13,24,10,72],[13,25,10,72,"length"],[13,31,10,72],[13,39,10,72,"arguments"],[13,48,10,72],[13,56,10,72,"undefined"],[13,65,10,72],[13,68,10,72,"arguments"],[13,77,10,72],[13,83,10,75,"_defaults"],[13,92,10,84],[13,93,10,85,"DEFAULT_ICON_SIZE"],[13,110,10,102],[14,4,10,102],[14,8,10,104,"color"],[14,13,10,109],[14,16,10,109,"arguments"],[14,25,10,109],[14,26,10,109,"length"],[14,32,10,109],[14,40,10,109,"arguments"],[14,49,10,109],[14,57,10,109,"undefined"],[14,66,10,109],[14,69,10,109,"arguments"],[14,78,10,109],[14,84,10,112,"_defaults"],[14,93,10,121],[14,94,10,122,"DEFAULT_ICON_COLOR"],[14,112,10,140],[15,4,11,2],[15,8,11,8,"NativeIconAPI"],[15,21,11,21],[15,24,11,24],[15,25,11,25],[15,26,11,26],[15,28,11,28,"_getImageLibrary"],[15,44,11,44],[15,45,11,45,"ensureGetImageAvailable"],[15,68,11,68],[15,70,11,70],[15,71,11,71],[16,4,12,2],[16,8,12,8,"processedColor"],[16,22,12,22],[16,25,12,25],[16,26,12,26],[16,27,12,27],[16,29,12,29,"_reactNative"],[16,41,12,41],[16,42,12,42,"processColor"],[16,54,12,54],[16,56,12,56,"color"],[16,61,12,61],[16,62,12,62],[17,4,13,2],[17,8,13,8,"cacheKey"],[17,16,13,16],[17,19,13,19],[17,22,13,22,"glyph"],[17,27,13,27],[17,31,13,31,"size"],[17,35,13,35],[17,39,13,39,"String"],[17,45,13,45],[17,46,13,46,"processedColor"],[17,60,13,60],[17,61,13,61],[17,63,13,63],[18,4,14,2],[18,8,14,8,"maybeCachedValue"],[18,24,14,24],[18,27,14,27,"imageSourceCache"],[18,43,14,43],[18,44,14,44,"get"],[18,47,14,47],[18,48,14,48,"cacheKey"],[18,56,14,56],[18,57,14,57],[19,4,15,2],[19,8,15,6,"maybeCachedValue"],[19,24,15,22],[19,29,15,27,"undefined"],[19,38,15,36],[19,40,15,38],[20,6,16,4],[21,6,17,4],[21,13,17,11,"maybeCachedValue"],[21,29,17,27],[22,4,18,2],[23,4,19,2],[23,8,19,6],[24,6,20,4],[24,10,20,10,"imagePath"],[24,19,20,19],[24,22,20,22,"NativeIconAPI"],[24,35,20,35],[24,36,20,36,"getImageForFontSync"],[24,55,20,55],[24,56,20,56,"fontReference"],[24,69,20,69],[24,71,20,71,"glyph"],[24,76,20,76],[24,78,20,78,"size"],[24,82,20,82],[24,84,20,84,"processedColor"],[24,98,20,98],[24,99,20,99],[25,6,21,4],[25,7,21,5],[26,6,22,4],[26,10,22,10,"value"],[26,15,22,15],[26,18,22,18],[27,8,23,6,"uri"],[27,11,23,9],[27,13,23,11,"imagePath"],[27,22,23,20],[28,8,24,6,"scale"],[28,13,24,11],[28,15,24,13,"_reactNative"],[28,27,24,25],[28,28,24,26,"PixelRatio"],[28,38,24,36],[28,39,24,37,"get"],[28,42,24,40],[28,43,24,41],[29,6,25,4],[29,7,25,5],[30,6,26,4,"imageSourceCache"],[30,22,26,20],[30,23,26,21,"setValue"],[30,31,26,29],[30,32,26,30,"cacheKey"],[30,40,26,38],[30,42,26,40,"value"],[30,47,26,45],[30,48,26,46],[31,6,27,4],[31,13,27,11,"value"],[31,18,27,16],[32,4,28,2],[32,5,28,3],[32,6,28,4],[32,13,28,11,"error"],[32,18,28,16],[32,20,28,18],[33,6,29,4,"imageSourceCache"],[33,22,29,20],[33,23,29,21,"setError"],[33,31,29,29],[33,32,29,30,"cacheKey"],[33,40,29,38],[33,42,29,40,"error"],[33,47,29,45],[33,48,29,46],[34,6,30,4],[34,12,30,10,"error"],[34,17,30,15],[35,4,31,2],[36,2,32,0],[36,3,32,1],[37,2,33,0,"exports"],[37,9,33,7],[37,10,33,8,"getImageSourceSync"],[37,28,33,26],[37,31,33,29,"getImageSourceSync"],[37,49,33,47],[38,2,34,0],[38,6,34,6,"getImageSource"],[38,20,34,20],[39,4,34,20],[39,8,34,20,"_ref"],[39,12,34,20],[39,15,34,20,"_asyncToGenerator"],[39,32,34,20],[39,33,34,23],[39,44,34,30,"imageSourceCache"],[39,60,34,46],[39,62,34,48,"fontReference"],[39,75,34,61],[39,77,34,63,"glyph"],[39,82,34,68],[39,84,34,147],[40,6,34,147],[40,10,34,70,"size"],[40,14,34,74],[40,17,34,74,"arguments"],[40,26,34,74],[40,27,34,74,"length"],[40,33,34,74],[40,41,34,74,"arguments"],[40,50,34,74],[40,58,34,74,"undefined"],[40,67,34,74],[40,70,34,74,"arguments"],[40,79,34,74],[40,85,34,77,"_defaults"],[40,94,34,86],[40,95,34,87,"DEFAULT_ICON_SIZE"],[40,112,34,104],[41,6,34,104],[41,10,34,106,"color"],[41,15,34,111],[41,18,34,111,"arguments"],[41,27,34,111],[41,28,34,111,"length"],[41,34,34,111],[41,42,34,111,"arguments"],[41,51,34,111],[41,59,34,111,"undefined"],[41,68,34,111],[41,71,34,111,"arguments"],[41,80,34,111],[41,86,34,114,"_defaults"],[41,95,34,123],[41,96,34,124,"DEFAULT_ICON_COLOR"],[41,114,34,142],[42,6,35,2],[42,10,35,8,"NativeIconAPI"],[42,23,35,21],[42,26,35,24],[42,27,35,25],[42,28,35,26],[42,30,35,28,"_getImageLibrary"],[42,46,35,44],[42,47,35,45,"ensureGetImageAvailable"],[42,70,35,68],[42,72,35,70],[42,73,35,71],[43,6,36,2],[43,10,36,8,"processedColor"],[43,24,36,22],[43,27,36,25],[43,28,36,26],[43,29,36,27],[43,31,36,29,"_reactNative"],[43,43,36,41],[43,44,36,42,"processColor"],[43,56,36,54],[43,58,36,56,"color"],[43,63,36,61],[43,64,36,62],[44,6,37,2],[44,10,37,8,"cacheKey"],[44,18,37,16],[44,21,37,19],[44,24,37,22,"glyph"],[44,29,37,27],[44,33,37,31,"size"],[44,37,37,35],[44,41,37,39,"String"],[44,47,37,45],[44,48,37,46,"processedColor"],[44,62,37,60],[44,63,37,61],[44,65,37,63],[45,6,38,2],[45,10,38,8,"maybeCachedValue"],[45,26,38,24],[45,29,38,27,"imageSourceCache"],[45,45,38,43],[45,46,38,44,"get"],[45,49,38,47],[45,50,38,48,"cacheKey"],[45,58,38,56],[45,59,38,57],[46,6,39,2],[46,10,39,6,"maybeCachedValue"],[46,26,39,22],[46,31,39,27,"undefined"],[46,40,39,36],[46,42,39,38],[47,8,40,4],[48,8,41,4],[48,15,41,11,"maybeCachedValue"],[48,31,41,27],[49,6,42,2],[50,6,43,2],[50,10,43,6],[51,8,44,4],[51,12,44,10,"imagePath"],[51,21,44,19],[51,30,44,28,"NativeIconAPI"],[51,43,44,41],[51,44,44,42,"getImageForFont"],[51,59,44,57],[51,60,44,58,"fontReference"],[51,73,44,71],[51,75,44,73,"glyph"],[51,80,44,78],[51,82,44,80,"size"],[51,86,44,84],[51,88,44,86,"processedColor"],[51,102,44,100],[51,103,44,101],[52,8,45,4],[52,9,45,5],[53,8,46,4],[53,12,46,10,"value"],[53,17,46,15],[53,20,46,18],[54,10,47,6,"uri"],[54,13,47,9],[54,15,47,11,"imagePath"],[54,24,47,20],[55,10,48,6,"scale"],[55,15,48,11],[55,17,48,13,"_reactNative"],[55,29,48,25],[55,30,48,26,"PixelRatio"],[55,40,48,36],[55,41,48,37,"get"],[55,44,48,40],[55,45,48,41],[56,8,49,4],[56,9,49,5],[57,8,50,4,"imageSourceCache"],[57,24,50,20],[57,25,50,21,"setValue"],[57,33,50,29],[57,34,50,30,"cacheKey"],[57,42,50,38],[57,44,50,40,"value"],[57,49,50,45],[57,50,50,46],[58,8,51,4],[58,15,51,11,"value"],[58,20,51,16],[59,6,52,2],[59,7,52,3],[59,8,52,4],[59,15,52,11,"error"],[59,20,52,16],[59,22,52,18],[60,8,53,4,"imageSourceCache"],[60,24,53,20],[60,25,53,21,"setError"],[60,33,53,29],[60,34,53,30,"cacheKey"],[60,42,53,38],[60,44,53,40,"error"],[60,49,53,45],[60,50,53,46],[61,8,54,4],[61,14,54,10,"error"],[61,19,54,15],[62,6,55,2],[63,4,56,0],[63,5,56,1],[64,4,56,1],[64,20,34,6,"getImageSource"],[64,34,34,20,"getImageSource"],[64,35,34,20,"_x"],[64,37,34,20],[64,39,34,20,"_x2"],[64,42,34,20],[64,44,34,20,"_x3"],[64,47,34,20],[65,6,34,20],[65,13,34,20,"_ref"],[65,17,34,20],[65,18,34,20,"apply"],[65,23,34,20],[65,30,34,20,"arguments"],[65,39,34,20],[66,4,34,20],[67,2,34,20],[67,5,56,1],[68,2,57,0,"exports"],[68,9,57,7],[68,10,57,8,"getImageSource"],[68,24,57,22],[68,27,57,25,"getImageSource"],[68,41,57,39],[69,0,57,40],[69,3]],"functionMap":{"names":["<global>","getImageSourceSync","getImageSource"],"mappings":"AAA;2BCS;CDsB;uBEE;CFsB"},"hasCjsExports":true},"type":"js/module"}]}